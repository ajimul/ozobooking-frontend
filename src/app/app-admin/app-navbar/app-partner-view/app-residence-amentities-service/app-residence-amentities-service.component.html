<div class="dialog-content">

    <div class="dialog-close" mat-dialog-close>
        <span class="close-btn">X</span>
    </div>
    <header>
        <div>
            <h2 class="residence-heading">Residence Amentities Service Works!</h2>
        </div>
    </header>



<main>
    <form  class="flex  margin-bottom-20  gap-10 justify-content-space-evenly width-100" [formGroup]="amentitiesForm">
        <!-- <div style="display: none;">
            <label for="autoId">Auto Selected Id:
                <span
                    *ngIf="amentitiesForm.get('resiAmen_refId')?.invalid && amentitiesForm.get('resiAmen_refId')?.touched"
                    class="error-message">
                    {{ getIdError('resiAmen_refId') }}
                </span>
                <input type="text" id="autoId" formControlName="resiAmen_refId" readonly >
            </label>
        </div> -->
        <div  id="child-AmentitiesGroup" class="flex column hight-20 flex-40 padding-5 justify-self-space-around  !border-red  position-relative ">
            <label class="width-100" for="amentitiesGroupInput">Enter or Select Amentities Group:
                <span
                    *ngIf="amentitiesForm.get('resiAmenGroupName')?.invalid && amentitiesForm.get('resiAmenGroupName')?.touched"
                    class="error-message">
                    {{ getTextError('resiAmenGroupName') }}
                </span>
                <input class="width-100" type="text" id="amentitiesGroupInput" formControlName="resiAmenGroupName" 
                 [(ngModel)]="resiAmenGroupName"
                    (focus)="toggleAmentitiesGroup(true)" (keyup)="toggleAmentitiesGroup(false)"
                    (click)="toggleAmentitiesGroupOnClick()">

                <select class="position-absolute right-0 width-100" id="amentitiesGroupSelect" #GroupSelect (change)="selectionAmentitiesGroup(GroupSelect)"
                    [style.display]="isAmentitiesGroup ? 'block' : 'none'">
                    <option value="">Select Detail</option>
                    <option *ngFor="let amentity of amentitiesGroupList" [value]="amentity.group">{{ amentity.group }}</option>

                </select>
            </label>
        </div>
        <div id="child-AmentitiesDetails" class="flex column flex-40 padding-5 justify-self-space-around  !border-red">
            <label class=" width-100 " for="amentitiesDetailsInput">Description:
                <span
                    *ngIf="amentitiesForm.get('resiAmenDetails')?.invalid && amentitiesForm.get('resiAmenDetails')?.touched"
                    class="error-message">
                    {{ getTextError('resiAmenDetails') }}
                </span>
                <input class=" width-100 " type="text" id="amentitiesDetailsInput" formControlName="resiAmenDetails">
            </label>
        </div>
        <div class="flex column flex-10  padding-5 hight-25 justify-content-flex-end !border-red">
            <button  class="padding-5 submit-btn" type="button" (click)="formSubmit()">Add</button>
        </div>
      
    </form>
    <br><br>
<div class="table-wrapper">
    <table mat-table matSort [dataSource]="dataSource" class="residence-table ">
        <ng-container matColumnDef="resiAmenGroupName">
            <th mat-header-cell *matHeaderCellDef><strong>Amentities-Group </strong></th>
            <td mat-cell *matCellDef="let element; let i = index">
                <input type="text" [(ngModel)]="element.resiAmenGroupName">
                <div *ngIf="!element.resiAmenGroupName || element.resiAmenGroupName.trim().length === 0" class="error-message">Amentities Group is required.</div>


            </td>
        </ng-container>
        <ng-container matColumnDef="resiAmenDetails">
            <th mat-header-cell *matHeaderCellDef><strong>Amentities Details</strong></th>
            <td mat-cell *matCellDef="let element; let i = index">
                <input type="text" [(ngModel)]="element.resiAmenDetails">
                <div *ngIf="!element.resiAmenDetails || element.resiAmenDetails.trim().length === 0" class="error-message">Amentities Details is required.</div>

            </td>
        </ng-container>
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef
                style="text-align: center; align-items: center;justify-content: center;"><strong>Actions</strong></th>
            <td mat-cell *matCellDef="let element; let i=index">
                <span class="update-btn" (click)="updateAmentities(element)">Update</span>

                <span class="delete-btn" (click)="showConfirmDelete()" (click)="deleteAmentities(element)">Delete</span>
                <div *ngIf="showDeleteConfirmation" class="confirmation-modal">
                    <button  (click)="deleteAmentities(element)">Delete</button>
                    <button (click)="showDeleteConfirmation = false">Cancel</button>
                </div>
            </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="tableColumns" ></tr>
        <tr mat-row *matRowDef="let row; columns: tableColumns;" >
        </tr>
    </table>

    </div>
</main>
</div>